{% extends 'util/base.njk' %}

{% block script %}
    <script src="/js/classroom.js" type="module" defer></script>
{% endblock script %}

{% block prefab %}
<div class="post" data-catagory="announce">
    <div class="flex flex-row flex-align gap-2">
        <div class="flex flex-column padding-inline-start-2 flex-item-1">
            <h3 class="post__title">Title</h3>
            <div class="flex flex-row gap-2">
                <p class="post__catagory">公告</p>
                <p class="post__date">2022/1/1</p>
            </div>
        </div>
    </div>

    <div class="post__content">
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum voluptas placeat est! Iure itaque ab enim delectus qui facilis atque facere modi a possimus, quia saepe consequatur recusandae laborum hic? Labore ex eaque culpa! Illo reiciendis error autem velit quam debitis, quidem impedit quas rem, corporis laudantium aliquam voluptas animi!</p>
    </div>

    <div class="flex flex-center">
        <button class="post-reply-show btn-link">顯示所有留言</button>
    </div>

    <div class="post-reply-container flex flex-column gap-4">
    </div>

    <div class="post-reply-writer flex flex-row flex-align-start gap-2">
        <img src="/imgs/dummy_profile.png" class="post__picture" alt="">
        <div class="flex flex-column flex-item-1">
            <div class="flex flex-row gap-2">
                <p class="post__name">name</p>
            </div>
            <div class="flex flex-row flex-align-start gap-2">
                <textarea type="text" class="flex-item-1 auto-resize" placeholder="留言"></textarea>
                <button class="btn-primary">送出</button>
            </div>
        </div>
    </div>
</div>

<div class="post" data-catagory="homework">
    <div class="flex flex-row flex-align gap-2">
        <div class="flex flex-column padding-inline-start-2 flex-item-1">
            <h3 class="post__title">Title</h3>
            <div class="flex flex-row gap-2">
                <p class="post__catagory">公告</p>
                <p class="post__date">2022/1/1</p>
                <p class="post__state"></p>
            </div>
        </div>
        <label for="file-upload">上傳作業</label>
        <input type="file" name="" id="file-upload" hidden>
        <button class="post__upload-btn">上傳作業</button>
        <button class="post__check-detail btn-link">查看</button>
    </div>
</div>

<div class="post-reply">
    <img src="/imgs/dummy_profile.png" class="post__picture" alt="profile_picture">
    <div class="flex flex-column">
        <div class="flex flex-row gap-2">
            <p class="post__name">name</p>
            <p class="post__date">2022/1/1</p>
        </div>
        <p class="post-reply__content">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Beatae quos ea assumenda quo accusamus officia, accusantium asperiores aspernatur nam error?</p>
    </div>
</div>
{% endblock prefab %}

{% block content %}
    <input id="call-id" type="text" value="{{ callId }}" hidden>
    <main>
        <div id="class-grid">
            <div id="class-sidebar">
                <h1 id="class-name">讀取中...</h1>
                <div class="flex flex-row flex-align flex-wrap">
                    <p style="text-wrap: no-wrap;">{{ callId }}</p>
                    <div class="flex flex-row margin-inline-start-auto gap-2">
                        <button id="setting-btn" class="btn-transparent" hidden>{% include 'svg/setting.svg' %}</button>
                        <button id="call-btn" class="btn-primary">進入會議</button>
                    </div>
                </div>
                <div class="flex flex-center">
                    {% include "util/class-schedule.njk" %}
                </div>
            </div>

            <div id="class-main" data-current-catagory="entire">
                <div id="bulletin-tab-container">
                    <button id="write-tab" data-catagory="write" class="btn-tab-right" hidden>新增貼文</button>
                    <button id="entire-tab" data-catagory="entire" class="btn-tab-right">公告</button>
                    <button id="homework-tab" data-catagory="homework" class="btn-tab-right">作業</button>
                    <button id="back-to-top-tab" class="btn-tab-right btn-primary">回到最上面</button>
                </div>

                <div id="bulletin" class="flex-item-1">
                    <div data-catagory="write" hidden>
                        <div class="post">
                            <h1>新增貼文</h1>
                            <div class="flex flex-row gap-4">
                                <div class="flex flex-column gap-4">
                                    <p>種類</p>
                                    <select name="write-catagory" id="write-catagory">
                                        <option value="entire">公告</option>
                                        <option value="homework">作業</option>
                                    </select>
                                </div>
                                <div class="flex flex-column gap-4 flex-item-1">
                                    <p>標題</p>
                                    <input type="text" id="write-title">
                                </div>
                            </div>
                            <p>內容</p>
                            <textarea type="text" id="write-content" style="height: 11em; resize: vertical;"></textarea>
                            <button id="write-submit-btn" class="margin-inline-start-auto">張貼</button>
                        </div>
                    </div>

                    <div data-catagory="entire" hidden>
                    </div>

                    <div data-catagory="homework" hidden>
                    </div>

                    <div data-catagory="detail" hidden>
                        <div class="flex flex-row flex-align gap-2">
                            <div class="flex flex-column padding-inline-start-2 flex-item-1">
                                <h3 class="post__title">Title</h3>
                                <div class="flex flex-row gap-2">
                                    <p class="post__catagory">公告</p>
                                    <p class="post__date">2022/1/1</p>
                                </div>
                                <div class="user-records">

                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="loading">
                        <p style="text-align: center">讀取中...</p>
                    </div>
                </div>
            </div>
        </div>

        {% include "util/class_modal.njk" %}
    </main>
{% endblock content %}